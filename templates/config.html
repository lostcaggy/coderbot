<div data-role="page" id="page-preferences">
 <div data-role="header">
  <a href="java" href="#" data-rel="back" class="ui-btn-left ui-btn ui-btn-inline ui-mini ui-corner-all ui-btn-icon-left ui-icon-carat-l ui-btn-a">{% trans %}Back{% endtrans %}</a>
  <h1>RoverBot</h1>
 </div>
 <div role="main" class="ui-content">
  <form class="config" id="f_config">
   <div data-role="tabs" id="tabs">
    <div data-role="navbar">
     <ul>
      <li><a href="#t_control" class="ui-btn-active" data-ajax="true">{% trans %}Control{% endtrans %}</a></li>
      <li><a href="#t_programming" data-ajax="true">{% trans %}Programming{% endtrans %}</a></li>
      <li><a href="#t_movement" data-ajax="true">{% trans %}Movement{% endtrans %}</a></li>
      <li><a href="#t_start" data-ajax="true">{% trans %}Start{% endtrans %}</a></li>
      <li><a href="#t_wifi" data-ajax="true">{% trans %}WiFi{% endtrans %}</a></li>
      <li><a href="#t_halt" data-ajax="true">{% trans %}Restart, Halt{% endtrans %}</a></li>
     </ul>
    </div>
    <div id="t_control" class="ui-body-d ui-content">
     <legend>{% trans %}Step timing | distance / angle{% endtrans %}</legend>
     <label for="i_ctrl_fw_speed">{% trans %}Forward speed{% endtrans %}</label>
     <input type="text" id="i_ctrl_fw_speed" name="ctrl_fw_speed" value="{{config.ctrl_fw_speed}}">
     <label for="i_ctrl_fw_elapse">{% trans %}Forward elapse / distance{% endtrans %}</label>
     <input type="text" id="i_ctrl_fw_elapse" name="ctrl_fw_elapse" value="{{config.ctrl_fw_elapse}}">
     <label for="i_ctrl_tr_speed">{% trans %}Turn speed{% endtrans %}</label>
     <input type="text" id="i_ctrl_tr_speed" name="ctrl_tr_speed" value="{{config.ctrl_tr_speed}}">
     <label for="i_ctrl_tr_elapse">{% trans %}Turn elapse / angle{% endtrans %}</label>
     <input type="text" id="i_ctrl_tr_elapse" name="ctrl_tr_elapse" value="{{config.ctrl_tr_elapse}}">
    </div>
    <div id="t_programming" class="ui-body-d ui-content">
     <fieldset data-role="controlgroup" data-mini="true">
      <legend>{% trans %}Editor level{% endtrans %}</legend>
      <input type="radio" name="prog_level" id="r_prog_level_a" value="basic_move" {%if config.prog_level=='basic_move'%}checked="checked"{%endif%}>
      <label for="r_prog_level_a">{% trans %}Move{% endtrans %}</label>
      <input type="radio" name="prog_level" id="r_prog_level_b" value="basic" {%if config.prog_level=='basic'%}checked="checked"{%endif%}>
      <label for="r_prog_level_b">{% trans %}Basic{% endtrans %}</label>
      <input type="radio" name="prog_level" id="r_prog_level_c" value="std" {%if config.prog_level=='std'%}checked="checked"{%endif%}>
      <label for="r_prog_level_c">{% trans %}Standard{% endtrans %}</label>
      <input type="radio" name="prog_level" id="r_prog_level_d" value="adv" {%if config.prog_level=='adv'%}checked="checked"{%endif%}>
      <label for="r_prog_level_d">{% trans %}Advanced{% endtrans %}</label>
     </fieldset>
     <fieldset data-role="controlgroup" data-mini="true">
      <legend>{% trans %}Program editor details{% endtrans %}</legend>
      <label for="c_prog_scrollbars">{% trans %}Shows Editor scrollbars{% endtrans %}</label>
      <input type="checkbox" name="prog_scrollbars" id="c_prog_scrollbars" value="true" {%if config.prog_scrollbars=='true'%}checked="checked"{%endif%}>
     </fieldset>

     <label for="i_move_fw_speed">{% trans %}Forward speed{% endtrans %}</label>
     <input type="text" id="i_move_fw_speed" name="move_fw_speed" value="{{config.move_fw_speed}}">
     <label for="i_move_fw_elapse">{% trans %}Forward elapse / distance{% endtrans %}</label>
     <input type="text" id="i_move_fw_elapse" name="move_fw_elapse" value="{{config.move_fw_elapse}}">
     <label for="i_move_tr_speed">{% trans %}Turn speed{% endtrans %}</label>
     <input type="text" id="i_move_tr_speed" name="move_tr_speed" value="{{config.move_tr_speed}}">
     <label for="i_move_tr_elapse">{% trans %}Turn elapse / angle{% endtrans %}</label>
     <input type="text" id="i_move_tr_elapse" name="move_tr_elapse" value="{{config.move_tr_elapse}}">
    </div>
    <div id="t_movement" class="ui-body-d ui-content">
     <label for="i_move_motor_mode">{% trans %}Motor control mode{% endtrans %}</label>
     <input type="text" id="i_move_motor_mode" name="move_motor_mode" value="{{config.move_motor_mode}}">
     <label for="i_move_motor_trim">{% trans %}Trim factor (1.0 = center){% endtrans %}</label>
     <input type="text" id="i_move_motor_trim" name="move_motor_trim" value="{{config.move_motor_trim}}">
     <label for="i_move_power_angle_1">{% trans %}Power (target angle -15){% endtrans %}</label>
     <input type="text" id="i_move_power_angle_1" name="move_power_angle_1" value="{{config.move_power_angle_1}}">
     <label for="i_move_power_angle_2">{% trans %}Power (target angle -4){% endtrans %}</label>
     <input type="text" id="i_move_power_angle_2" name="move_power_angle_2" value="{{config.move_power_angle_2}}">
     <label for="i_move_power_angle_3">{% trans %}Power (target angle -1){% endtrans %}</label>
     <input type="text" id="i_move_power_angle_3" name="move_power_angle_3" value="{{config.move_power_angle_3}}">
    </div>
    <div id="t_start" class="ui-body-d ui-content">
     <label for="i_load_at_start">{% trans %}Load at start{% endtrans %}</label>
     <input type="text" id="i_load_at_start" name="load_at_start" value="{{config.load_at_start}}">
    </div>
   <div id="t_wifi" class="ui-body-d ui-content">
    <a href="#popup-wifi" data-rel="popup" id="b_wifi_access_mode" class="ui-btn ui-shadow ui-corner-all ui-btn-a ui-mini">{% trans %}WiFi Client access mode{% endtrans %}</a>
   </div>
   <div id="t_halt" class="ui-body-d ui-content">
    <button id="b_halt" class="ui-btn ui-btn-inline ui-shadow ui-corner-all ui-btn-icon-left ui-icon-power" type="button">{% trans %}Halt{% endtrans %}</button>
    <button id="b_restart" class="ui-btn ui-btn-inline ui-shadow ui-corner-all ui-btn-icon-left ui-icon-refresh" type="button">{% trans %}Restart{% endtrans %}</button>
    <button id="b_reboot" class="ui-btn ui-btn-inline ui-shadow ui-corner-all ui-btn-icon-left ui-icon-alert" type="button">{% trans %}Reboot{% endtrans %}</button>
    <button id="b_update" class="ui-btn ui-btn-inline ui-shadow ui-corner-all ui-btn-icon-left ui-icon-alert" type="button">{% trans %}Update System{% endtrans %}</button>
   </div>
   <div class="ui-grid-a">
    <div class="ui-block-a"><a href="#" data-rel="close" class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-mini">{% trans %}Cancel{% endtrans %}</a></div>
    <div class="ui-block-b"><button type="submit" id="b_config_save" data-rel="close" class="ui-btn ui-shadow ui-corner-all ui-btn-a ui-mini">{% trans %}Save{% endtrans %}</button></div>
   </div>
   </div>
 </form>
 </div>
 <div data-role="popup" id="popup-wifi" data-history="false" data-theme="a" class="ui-corner-all" data-dismissible="false" data-position-to="window">
  <div style="padding:10px 20px;">
  <form class="config" id="f_wifi">
   <h3>{% trans %}WiFi Client mode access data{% endtrans %}</h3>
   <fieldset data-role="controlgroup" data-mini="true">
    <legend>{% trans %}WiFi mode{% endtrans %}</legend>
    <input type="radio" name="wifi_mode" id="r_wifi_mode_a" value="ap" {%if config.wifi_mode=='ap'%}checked="checked"{%endif%}>
    <label for="r_wifi_mode_a">{% trans %}Access Point{% endtrans %}</label>
    <input type="radio" name="wifi_mode" id="r_wifi_mode_b" value="client" {%if config.wifi_mode=='client'%}checked="checked"{%endif%}>
    <label for="r_wifi_mode_b">{% trans %}Client{% endtrans %}</label>
   </fieldset>
   <label for="i_wifi_ssid">{% trans %}WiFi name{% endtrans %}</label>
   <input type="text" id="i_wifi_ssid" name="wifi_ssid" value="{{config.wifi_ssid}}">
   <label for="i_wifi_psk">{% trans %}WiFi password{% endtrans %}</label>
   <input type="text" id="i_wifi_psk" name="wifi_psk" value="{{config.wifi_psk}}">
   <div class="ui-grid-a">
    <div class="ui-block-a"><a href="#" data-rel="back" class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-mini">{% trans %}Cancel{% endtrans %}</a></div>
    <div class="ui-block-b"><a href="#" id="b_wifi_apply" data-rel="back" class="ui-btn ui-shadow ui-corner-all ui-btn-a ui-mini">{% trans %}Apply Wifi config{% endtrans %}</a></div>
   </div>
  </form>
  </div>
 </div>
 <div data-role="popup" id="popup-wifi-ap" data-history="false" data-theme="a" class="ui-corner-all" data-dismissible="false" data-position-to="window">
  <div style="padding:10px 20px;">
   <h3>{% trans %}WiFi AP mode access{% endtrans %}</h3>
   <p>{% trans %}Access Point mode is being set{% endtrans %}:
   <ol>
   <li>{% trans %}Wait 30 seconds{% endtrans %}</li>
   <li>{% trans %}Connect your device to the "coderbot" named wifi{% endtrans %}</li>
   <li>{% trans %}Click on the following link{% endtrans %}: <a href="http://coder.bot:8080">CoderBot (AP mode)</a></li>
   </ol>
   </p>
  </div>
 </div>
 <div data-role="popup" id="popup-wifi-client" data-history="false" data-theme="a" class="ui-corner-all" data-dismissible="false" data-position-to="window">
  <div style="padding:10px 20px;">
   <h3>{% trans %}WiFi Client mode access{% endtrans %}</h3>
   <p>{% trans %}Client mode is being set{% endtrans %}:
   <ol>
   <li>{% trans %}Wait 30 seconds{% endtrans %}</li>
   <li>{% trans %}Connect your device to your own wifi (wifi network must be connected to internet){% endtrans %}</li>
   <li>{% trans %}Click on the following link{% endtrans %}: <a href="http://coderbot.local:8080">CoderBot (client mode)</a></li>
   </ol>
   </p>
  </div>
 </div>
 <div data-role="popup" id="popup-update-system" data-history="false" data-theme="a" class="ui-corner-all" data-dismissible="false" data-position-to="window">
  <div style="padding:10px 20px;">
   <h3>{% trans %}System update{% endtrans %}</h3>
   <p>{% trans %}Update log (it may require several minutes){% endtrans %}:</p>
   <textarea readonly=true cols="80" rows="20" style="overflow-y: scroll; height: 100px; resize: none; " id="i_update_system_log"></textarea>
   <a href="#" id="b_update_system_close" data-rel="back" data-role="button" class="ui-btn ui-shadow ui-corner-all ui-btn-b ui-mini ui-disabled">{% trans %}Close{% endtrans %}</a>
  </div>
 </div>
</div>
